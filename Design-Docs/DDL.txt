CREATE TABLE users (
    Id INT AUTO_INCREMENT PRIMARY KEY,
    Name VARCHAR(100) NOT NULL,
    Email VARCHAR(100) NOT NULL,
    PhoneNumber VARCHAR(15) UNIQUE NOT NULL,
    Password VARCHAR(100) NOT NULL,
    Role VARCHAR(50) NOT NULL
);

CREATE TABLE Products (
    Id INT AUTO_INCREMENT PRIMARY KEY,
    Name VARCHAR(100) NOT NULL,
    Description VARCHAR(255) NOT NULL,
    Price DECIMAL(10, 2) NOT NULL,  
    Image VARCHAR(100) NOT NULL,
    Category VARCHAR(50) NOT NULL,
    Quantity INT NOT NULL
);

CREATE TABLE Orders (
    Id INT AUTO_INCREMENT PRIMARY KEY,
    UserId INT NOT NULL,
    PaymentMethod VARCHAR(100) NOT NULL,
    Status VARCHAR(15) NOT NULL,
    Location VARCHAR(100) NOT NULL,
    Timestamp DATETIME NOT NULL,  
    FOREIGN KEY (UserId) REFERENCES Users (Id) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE Reviews (
    Id INT AUTO_INCREMENT PRIMARY KEY,
    Description VARCHAR(255) NOT NULL,  
    UserId INT NOT NULL,
    FOREIGN KEY (UserId) REFERENCES Users (Id) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE Transaction (
    Id INT AUTO_INCREMENT PRIMARY KEY,
    Quantity INT NOT NULL,
    ProductId INT NOT NULL,
    OrderId INT NOT NULL,
    FOREIGN KEY (ProductId) REFERENCES Products (Id) ON DELETE CASCADE ON UPDATE CASCADE,
    FOREIGN KEY (OrderId) REFERENCES Orders (Id) ON DELETE CASCADE ON UPDATE CASCADE
);
